# Markdownでシーケンス図 Demo

## 決済情報登録

SD 決済情報登録 - 【1-4】有料登録支払情報入力 __/
u=ユーザ | s= アプリケーションサーバ | a =アプリケーション | d=データベース
  u->s         : 決済情報登録画面取得(Cookie)
     s->a      : 決済情報登録画面取得(Cookie)
    [s,    d]  : 共通ログインチェック
        a->d   : 登録可能プラン検索
          [d]  : 登録可能プラン検索
        a<.d   :
opt [s,    d]  : エラー
[              : 入力フォーマットエラー OR 入力プランが登録可能プランリストにない
     s<.a      : エラー画面出力
[              : もう一個
/opt
      []a      : キャンペーン期間中プランはキャンペーン用の表示をする
     s<.a      : プラン一覧と入力フォームを出力
  u<.s         :
  u->          : self-call

SD 決済情報登録 - 【1-4】有料登録支払情報入力 __/
u=ユーザ | s= アプリケーションサーバ | a =アプリケーション | d=データベース
  u->s         : 決済情報登録(Cookie,プランID,個人情報,カード情報)
     s->a      : 決済情報登録(Cookie,プランID,個人情報,カード情報)
    [s,    d]  : 共通ログインチェック
        a->d   : 登録可能プラン検索
        a->    : self-call
          [d]  : 登録可能プラン検索
opt [s, a]     : エラー
[              : 入力フォーマットエラー OR 入力プランが登録可能プランリストにない
     s<.a      : エラー画面出力
/opt:
        a->d   : ユーザ情報更新(ユーザID,個人情報)
        a<.d   :



